<h2>Description</h2>

<p>At this last stage, your service will be improved to perform some trickier requests and return paginated responses. From the client's point of view, only a small part of API will be changed here.</p>

<p>Here are two articles worth reading before we begin:</p>

<ul>
	<li><a target="_blank" href="https://www.baeldung.com/spring-data-jpa-query" rel="noopener noreferrer nofollow">Spring Data @Query</a> annotation for custom queries;</li>
	<li><a target="_blank" href="https://howtodoinjava.com/spring-boot2/pagination-sorting-example/" rel="noopener noreferrer nofollow">Spring Boot Pagination and sorting examples</a>.</li>
</ul>

<h2>Get all quizzes with paging (MODIFIED)</h2>

<p>To get all existing quizzes in the service, the client sends the <code class="java">GET</code> request to <code class="java">/api/quizzes</code> as before. But here is the problem: the number of stored quizzes can be very large since your service is so popular among so many users.</p>

<p>In this regard, your API should return only 10 quizzes at once and supports the ability to specify which portion of quizzes is needed.</p>

<p><div class="alert alert-warning">Please, use the standard libraries for the pagination.</div></p>

<p>The response contains a JSON with quizzes (inside <code class="java">content</code>) and some additional metadata:</p>

<pre><code class="java">{
  "totalPages":1,
  "totalElements":3,
  "last":true,
  "first":true,
  "sort":{ },
  "number":0,
  "numberOfElements":3,
  "size":10,
  "empty":false,
  "pageable": { },
  "content":[
    {"id":102,"title":"Test 1","text":"Text 1","options":["a","b","c"]},
    {"id":103,"title":"Test 2","text":"Text 2","options":["a", "b", "c", "d"]},
    {"id":202,"title":"The Java Logo","text":"What is depicted on the Java logo?",
     "options":["Robot","Tea leaf","Cup of coffee","Bug"]}
  ]
}</code></pre>

<p>We've simplified JSON a bit, but you can keep it in the same format it is generated by the framework. Our tests will validate only the essential fields.</p>

<p>The API should support the navigation through pages by passing the <code class="java">page</code> parameter ( <code class="java">/api/quizzes?page=1</code>). The first page is 0 since pages start from zero, just like our quizzes.</p>

<p>If there are no quizzes, <code class="java">content</code> is empty <code class="java">[]</code>. If the user is authorized, the status code is <code class="java">200 (OK)</code>; otherwise, it's <code class="java">401 (Unauthorized)</code>.</p>

<h2>Get all completions of quizzes with paging (NEW)</h2>

<p>Your service must provide a new operation for getting all completions of quizzes for a specified user by sending the <code class="java">GET</code> request to <code class="java">/api/quizzes/completed</code> together with the user auth data. All the completions should be sorted from the most recent to the oldest.</p>

<p>A response is separated by pages since the service may return a lot of data. It contains a JSON with quizzes (inside <code class="java">content</code>) and some additional metadata as in the previous operation.</p>

<p>Here is a response example:</p>

<pre><code class="java">{
  "totalPages":1,
  "totalElements":5,
  "last":true,
  "first":true,
  "empty":false,
  "content":[
    {"id":103,"completedAt":"2019-10-29T21:13:53.779542"},
    {"id":102,"completedAt":"2019-10-29T21:13:52.324993"},
    {"id":101,"completedAt":"2019-10-29T18:59:58.387267"},
    {"id":101,"completedAt":"2019-10-29T18:59:55.303268"},
    {"id":202,"completedAt":"2019-10-29T18:59:54.033801"}
  ]
}</code></pre>

<p>Since it is allowed to solve a quiz multiple times, the response may contain duplicate quizzes, but with the different completion date.</p>

<p>We removed some metadata keys from the response to keep it comprehensible.</p>

<p>If there are no quizzes, <code class="java">content</code> is empty <code class="java">[]</code>. If the user is authorized, the status code is <code class="java">200 (OK)</code>; otherwise, it's <code class="java">401 (Unauthorized)</code>.</p>

<h2>A few words in the end</h2>

<p>Good job! You can put this project on GitHub as an example of your work and your expertise. Just don't forget to write a clear description in the README and refer Hyperskill :) It may also be useful for you to get a code review, at least for the last stage of the project.</p>

<p>If you would like to continue the project, you can develop a web or mobile client for this web service.</p>