<h2>Description</h2>

<p>At this stage, you will permanently store the data in a database, so that after restarting the service you will not lose all quizzes created by the users. You don't need to change the API of your service at this stage.</p>

<p>Here are some articles that explain how to work with databases in Spring Boot:</p>

<ul>
	<li><a target="_blank" href="https://attacomsian.com/blog/spring-data-jpa-h2-database" rel="noopener noreferrer nofollow">Spring Data JPA with H2 database</a></li>
	<li><a target="_blank" href="https://www.javaguides.net/2019/08/spring-boot-crud-rest-api-spring-data-jpa-h2-database-example.html" rel="noopener noreferrer nofollow">Spring Boot CRUD REST API + Spring Data JPA + H2 DB Example</a></li>
</ul>

<p>If that doesn't feel like enough, you can google other articles on the same topics (Spring Data, Repositories, JPA, H2).</p>

<p>We recommend you use the H2 database in the disk-based storage mode (not in-memory).</p>

<p>To start working with it, just add a couple of new dependencies in your <code class="language-java">build.gradle</code> file:</p>

<pre><code class="language-java">dependencies {
    // ...
    runtimeOnly 'com.h2database:h2'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    // ...
}</code></pre>

<p>The first dependency will allow using the H2 database in your application, and the second will allow using Spring Data JPA.</p>

<p>You also need to configure the database inside the <code class="language-java">application.properties</code> file. Do not change the database path.</p>

<pre><code class="language-java">spring.datasource.url=jdbc:h2:file:../quizdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update

spring.h2.console.enabled=true
spring.h2.console.settings.trace=false
spring.h2.console.settings.web-allow-others=false</code></pre>

<p>This config will automatically create the database and update tables inside it.</p>

<p>You should use exactly the same name for DB: <code class="language-java">quizdb</code>.</p>

<p>If you want to see SQL statements generated by Spring ORM, just add the following line in the properties file:</p>

<pre><code class="language-java">spring.jpa.show-sql=true</code></pre>

<p>To start using this database, you need to map your classes to database tables using the <a target="_blank" href="https://spring.io/guides/gs/accessing-data-jpa/" rel="noopener noreferrer nofollow">JPA annotations and Spring Repositories</a>.</p>

<p>You can use any tables in your database to complete this stage. The main thing is that when you restart the service, quizzes should not be lost. Our tests will create and get them via the API developed at the previous stages.</p>